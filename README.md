**RAG-агент с БД сайта neoflex**

Для работы нужны langchain и langgraph, причём langchain брать версии prebuilt==1.0.4, как как в последней версии есть баг, не позволяещий нормально  работать с либой. Для дополнительной информации см. requirements.txt

Агент работает через FastAPI, а клиент к нему цепляется через прокси – телеграм-бота.

Работает так себе, так как ранжируются тексты не очень, но диалог с памятью поддерживается.

**Как запустить**

Для запуска потребуется собственный OpenRouter API ключ и ключ от telegram-бота. OpenRouter API ключ будет запрошен в случае необходимости. Ключ от telegram-бота необходимо положить в переменную среды "NF_HW_BOT_TOKEN".
После этого необходимо на одной и той же машине развернуть и основное приложение, и бота.
Для разворачивания приложения необходимо воспользоваться командой `uvicorn main:app --reload`
Для разворачивания бота необходимо запустить python-скрипт: `python tg_bot.py`

**Схема графа**
[![graph-scheme.png](https://i.postimg.cc/Sx9Smyx5/graph-scheme.png)](https://postimg.cc/hXSWrRxb)